# Repository Guidelines

## Project Structure & Module Organization
- This is an Obsidian PKM vault. Key areas: `Topics/`, `Projects/`, `AI/` (Research/Roundup/Schedule), `Publish/`, and `_Settings_/` (Prompts, Workflows, Templates, Tools).
- Store assets next to notes in a sibling `_files_/` folder (e.g., `Projects/AI4PKM/_files_/`).
- Prefer updating existing notes over creating duplicates; maintain consistency across a topic.

## Build, Test, and Development Commands
- Tool deps: `pip install -r _Settings_/Tools/requirements.txt`
- EPUB → Markdown: `python _Settings_/Tools/epub_to_md.py <book.epub> -o <out_dir> -v`
- Photo exporter (manual): `osascript _Settings_/Tools/export_photos.applescript`
- Prompts/workflows live in `_Settings_/Prompts` and `_Settings_/Workflows` (many have abbreviations). Consult before creating new commands.
Note: Some scripts reference user paths (`/Users/lifidea/...`). Adjust for your environment or use `$VAULT`.

## Content Style & Naming Conventions
- Language: Korean by default (quotes may remain in original).
- Quotes: include as blockquotes, followed by your analysis and significance.
- Wiki links: always use full filenames and valid targets; prefer section anchors when possible (e.g., `[[Limitless/2025-04-09#섹션]]`).
- YAML tags: list form in frontmatter, e.g.
  ```
  tags:
    - journal
    - daily
  ```
- AI analysis files: place under `AI/*/`; name `YYYY-MM-DD [Project] by Codex.md`. For AI links, omit the `AI/` prefix in display links when appropriate.

## Properties & Frontmatter
- Use a single YAML block at top (`---` … `---`). Leave one blank line after it.
- Keys are lowercase and consistent: `title`, `source` (URL), `author` (list), `created` (YYYY-MM-DD), `tags` (list). Avoid duplicates like `date` vs `created`.
- Tags are plain text (no `#`) and indented list; authors may be wiki links wrapped in quotes.
- Quote values that contain colons, hashes, or look numeric to avoid YAML casting.
- After frontmatter, start with a section heading — no loose text or embeds before the first heading.
- Heading rules:
- Clippings (EIC/ICT): begin with `## Summary`, then `## Improve Capture & Transcript (ICT)`, then transcript.
  - ICT means improve the transcript (correct grammar, translate to Korean, structure with h3), not summarize. Keep length comparable to source; summaries live only under `## Summary`.
  - Lifelog: use H1 `# YYYY-MM-DD Lifelog - <Assistant>` then H2 sections (Monologues, Conversations, etc.).
  - Topics/Projects: start with H2 summary; avoid duplicating title as H1.
- Example (Clippings):
  ```
  ---
  title: "Don’t Build a Zombie Startup | Readwise"
  source: "https://…"
  author:
    - "[[Ash Maurya - LEANFoundryCopy@AshMauryaLEANFoundry]]"
  created: 2025-09-07
  tags:
    - clippings
  ---
  ```
	- `[Assistant]`: Codex

## Testing & Quality Checks
- Validate all wiki links resolve to existing files/sections; fix broken links immediately.
- For EPUB conversion, verify chapters render and images are under `_files_/` with correct paths.
- For photo export, follow `_Settings_/Tools/README_EXPORT_PHOTOS.md` and check logs/outputs.

## Commit & Pull Request Guidelines
- Workflow runs: `Workflow: [Name] - YYYY-MM-DD` with a brief summary of changes; include Co-Authored-By when generated by an assistant.
- Regular edits: clear, imperative summaries (scope first), e.g., `topics: expand Stoicism notes`.
- PRs should state purpose, affected folders, and any usage notes (screenshots/before–after helpful for content changes).

## Security & Configuration Tips
- Do not commit secrets or private data. Review `Publish/` content before sharing.
- Avoid hardcoded absolute paths; prefer `$VAULT` or relative paths.
- Keep large binaries out of the repo when possible; use `_files_/` only when necessary.
